{% extends 'core\teacherbase.html' %}
{% load static %}
{% block title %}-Teacher Profile {% endblock title %}

{% block content %}
<div class="col-md-9">
    <div class="card-body">
        <form class="form-horizontal" action="" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group row">
                <label for="inputName" class="col-sm-2 col-form-label">Headlines</label>
                <div class="col-sm-10">
                    {{NewsForm.headlines}}
                    <!-- <input type="text" class="form-control" id="inputName" placeholder="Name"> -->
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail" class="col-sm-2 col-form-label">Depertment</label>
                <div class="col-sm-10">
                    {{NewsForm.dept}}
                </div>
            </div>
            <div class="form-group row">
                <label for="inputName2" class="col-sm-2 col-form-label">Details</label>
                <div class="col-sm-10">
                    {{NewsForm.details}}
                    {{NewsForm.media}}
                </div>
            </div>
            <div class="form-group row">
            <label for="inputSkills" class="col-sm-2 col-form-label">News Image</label>
            <div class="col-sm-10">
                <label for="customFile">
                    <img id='previewpic' src="{% static 'dist\img\Placeholder.jpg'%}" height="500" width="500">
                </label>
            </div>
            {{NewsForm.img}}
        </div>

            <div class="form-group row">
                <div class="offset-sm-2 col-sm-10">
                    <button type="submit" class="btn btn-danger">Submit</button>
                </div>
            </div>
        </form>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Headline</th>
                    <th>Details</th>
                    <th>Category</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for i in NewsData %}
                <tr>
                    <td>{{i.headlines}}</td>
                    <td>{{i.details|safe}}</td>
                    <td>{{i.dept}}</td>
                    <td>
                        {% if i.status %}
                        <span class="badge bg-success">Approve</span>
                        {% else %}
                        <span class="badge bg-info">Pending</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
</div>

{% endblock content %}
{% block script %}
<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#previewpic')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

{% endblock script %}